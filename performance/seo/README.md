# SEO

## 対策の目的
SEO：Search Engine Optimization（検索エンジンの最適化）

目的は言うまでもなく「特定のキーワードを検索したときに検索結果の上位に表示されること」
クリックした人の比率は、1位～10位でこのくらい違うらしい（2017年の調査なのでやや古）
ホームページにお客さんを呼び込むためには、上位に表示させるほど有利ということがわかる。

![image](https://user-images.githubusercontent.com/72424558/111796253-58a84380-890b-11eb-94fd-8e0f0c54cd70.png)

## どうしたら上位に表示されるのか
Googleは検索のロジックを秘密にしているが、「検索エンジン最適化スターターガイド」というものを公開している。
- 2010年版
http://static.googleusercontent.com/media/www.Google.com/ja//intl/ja/webmasters/docs/search-engine-optimization-starter-guide-ja.pdf
- 2017年版
https://support.google.com/webmasters/answer/7451184　

検索すると色々出てくるが、まずはここに書かれている基本的なことから始めてみたいと思う。

## その前に
SEO対策は「特定のキーワードを検索したときに検索結果の上位に表示されること」を目的としているので、対象となるキーワードを選定する必要がある。
キーワードは後で、Search Consoleを参考にして決めることにする。

## 検索エンジン最適化スターターガイドの差分
2010年と2017年を読み比べてみて内容はあまり変わらなかった。
2017年の追加で気になったのは以下のみ。

### 構造化データ マークアップを追加する
構造化データはこういうもの。

![image](https://user-images.githubusercontent.com/72424558/111796500-95743a80-890b-11eb-9261-12c628ef64e3.png)

```構造化データ
<html>
  <head>
    <title>Apple Pie by Grandma</title>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org/",
      "@type": "Recipe",
      "name": "Apple Pie by Grandma",
      "author": "Elaine Smith",
      "image": "http://images.edge-generalmills.com/56459281-6fe6-4d9d-984f-385c9488d824.jpg",
      "description": "A classic apple pie.",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "7462",
        "bestRating": "5",
        "worstRating": "1"
      },
      "prepTime": "PT30M",
      "totalTime": "PT1H30M",
      "recipeYield": "8",
      "nutrition": {
        "@type": "NutritionInformation",
        "calories": "512 calories"
      },
      "recipeIngredient": [
        "1 box refrigerated pie crusts, softened as directed on box",
        "6 cups thinly sliced, peeled apples (6 medium)"
      ]
    }
    </script>
  </head>
  <body>
  </body>
</html>
```

オンラインショップなどで商品に情報を持たせるために使うイメージ。
以下のような使い方も推奨している。
- お店やサービスの所在地
- 商品やビジネスに関する動画
- イベント情報
- レシピ
- 会社のロゴなど

今のところ使い道はなさそう。

## 検索エンジン最適化スターターガイドまとめ

### 1. 適切なページタイトルをつけよう

HTMLのheadタグのなかに**適切なキーワードを入れたtitleタグを配置すること**。
このtitleタグはタブ表示のタイトルになるだけでなく、検索結果にも表示される。
検索キーワードに一致する語句がページタイトルに含まれている場合は、その語句が太字になるので開いてもらいやすくなる。

> トップページのタイトルには、サイトや会社の名前を載せることに加え、会社の所在地、主要な取扱商品などの重要な情報を含めましょう。サイトの深い階層にあるページについては、サイト（会社）名に加えて、各ページの内容を適切に表現したタイトルを付けることが望ましいです。

MBPの場合は、オフショアなどが会社全体のキーワードになるのかな…？

現時点でも全ページにtitleタグはついているが、タブ表示されたときのことしか考えていなかったので、全体的に短すぎる気もしてきた。
タブ表示はあまり重要でないと思うので、検索結果表示の観点で見直してもいいかも。

##### TODO
- ほかの会社のtitleタグを参考に見てみる
- 製品やインタビューページのtitleタグに適切なキーワードを入れる
- TOPページのtitleタグに会社のアピールポイントを入れる

---

### 2. descriptionメタタグを設定しよう
同様に、HTMLのheadタグのなかに**ページ概要を書いたdescriptionメタタグを配置すること**。
文章や短い段落程度の情報を入れることが可能。
ここで設定した文章が、検索結果に表示される（可能性がある）。
現状では全ページには設定していないので、できれば対応したい。
対応は結構めんどくさいと思われる。

##### TODO
- 各ページに固有のdescriptionタグを入れる

---

### 3. URLの構造を改善しよう
ディレクトリ構造を簡潔にし、URLにコンテンツの内容と関連した単語を使用すること。
サイトのURLをできる限りシンプルにすることで、ユーザーにも検索エンジンにも親切なものになるらしい。
現状はかなりシンプルなので、問題ないと思うが、検査ツールがあったので一応試す。
https://support.google.com/webmasters/answer/9012289

##### TODO
- URLが適切か検査する
---

### 4. ナビゲーションをわかりやすくしよう
ナビゲーションをわかりやすくしようということだが、ポイントがたくさん書いてあった。
- ユーザのための**HTMLサイトマップ**と、検索エンジンのための**XMLサイトマップ**を用意すること
    - HTMLサイトマップは新しく作成する。
    - XMLサイトマップはNuxtが出力しているが、lastmod（最終更新日）の記載がない。
       最終更新日がクロールに影響があるようなので設定した方が良さそう。

       【参考】項目の括説明：https://holy-seo.net/blog/seo/sitemap-sml-method-described-merit/
       【参考】Nuxtのsitemap：https://www.npmjs.com/package/@nuxtjs/sitemap


- > また、http://●●/news/2010/201004.html というページを訪れたあとで、http://●●/news/2010/ とアドレスバーに入力し直して、2010年のニュースの
一覧を見ようとする、といった方法が考えられます。

- パンくずリストはGoogleの検索エンジンのためというよりも、ユーザが使いやすいからという理由の模様

- **404エラーページを返さないようにする**
存在しないURLの場合はサイトトップに飛ぶようにしてあるので対応済み。

##### TODO
- XMLサイトマップにlastmodがのデータが入るようにする
- HTMLサイトマップを作成する
- URLの一部を切り取ってもページが存在するような構成になっているかを確認する
- ディレクトリが深いページにパンくずリストを作る

---

### 5. 質の高いコンテンツを提供しよう
良いコンテンツはユーザによって拡散される。
ユーザがどんな検索キーワードで検索するかを想定して、それに合わせたコンテンツを提供しようということ。

読みやすい文章で書こうなど、割と当たり前なことが書いてある。
ピュアワークスの社長が言っていた内容。

---

### 6.  適切なアンカーテキストを書こう
アンカーテキストとは、リンクが設定されたテキストのこと。
**「ページ」「記事」「ここをクリック」のような一般的なアンカーテキストは避けるべき**らしい。
以前「Light house」に怒られたので、この点は気を付けて作っている。
LighthouseはGoogle公式のSEOチェックツール。

---

### 7.  画像の利用を最適化しよう

何らかの理由で画像が表示できないとき、**代替テキスト（alt属性）を提供する**こと。
画像にリンクを設定した場合、altがアンカーテキストのように扱われる。
alt属性をわかりやすくすることで、検索エンジンにサイトの画像について伝えることができる。
今のところalt属性は全く設定していない。

また、画像は１つのディレクトリにまとめて保存することも推奨している。
いまはassetディレクトリにまとまっているので問題なし。

##### TODO
- 画像にalt属性を設定する
- 画像名の見直し（インタビュー記事に1.jpgなどがある）

-----

###   <font color="teal">8.  見出しタグを適切に使おう</font>
h1などの見出しタグを最も重要なところに使う。
太字にするstrongタグとは使い分けること。
見出しタグをそさらに強調することは過度な対策はスパムと判定されるのでNGらしい。
乱用するとペナルティになるとか…

見出しについて全く意識していなかったので、h1の見出しタグはほとんど使っておらず、h3、h4を時々使っている程度。
スタイルを整える目的で使っていたため、見直しが必要かも。

##### TODO
- 見出しタグをを使っている部分を見直す

-----

### 9. robots.txtを効果的に設定しよう
> “robots.txt”とは、検索エンジンにアクセスしクロールしてほしい部分と、そうでない部分を伝えるためのファイルです。このファイルは必ず“robots.txt”というファイル名でサイトのルートディレクトリに置く必要があります。

個人情報など、クロールしてほしくない部分を伝えるものらしい。
今は特に設定していないが、問い合わせの結果ページは除外したほうが良いかも。

```robot.txt
User-Agent:*
Disallow:

Sitemap:https://www.mbpsoft.co.jp/sitemap.xml
```

-----

### 10.  リンクにnofollow属性を活用しよう
> リンクのrel属性の値にnofollowを設定すると、Googleに対してこのリンクをたどらないよう、そしてリンク先に自分のサイトのページ評価を渡さないように伝えられます。

掲示板やコメント欄がある記事に対して設定するものなので必要ない。


-----

### 11.  モバイルサイトをGoogleに知らせよう
### 12.  携帯ユーザーを適切に誘導しよう

レスポンシブなので問題ないと思う。
念のためGoogleアプリから検索してみたが、問題なく表示された。

-----

### 13.  正しい方法でサイトを宣伝しよう
コミュニティに参加したり、名刺にサイトのURLを書いたり、オフラインでもサイトを知ってもらう工夫をしよう。
だんだんGoogleの検索エンジンと関係なくなってきた。

-----

### 14.  便利なツールを活用しよう
Google Search ConsoleをやGoogle Analyticsを活用しよう。
検索結果の上位に古いウェブサイトの情報が残っていることがあるので、クロールしなおす。


##### TODO
-  GooglebotにすでにクロールされているURLを削除する
- 再クロールの依頼
